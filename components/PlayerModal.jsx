"use client";import{motion,AnimatePresence}from"framer-motion";function isYouTube(u){return /youtube\.com|youtu\.be/.test(u||"")}function toEmbed(u){if(!u)return"";const m=u.match(/(?:v=|youtu\.be\/)([\w-]+)/);return m?`https://www.youtube.com/embed/${m[1]}?autoplay=1`:u}export default function PlayerModal({open,onClose,src}){const yt=isYouTube(src);const embed=yt?toEmbed(src):src;return(<AnimatePresence>{open&&(<motion.div className="fixed inset-0 z-[60] flex items-center justify-center p-4" initial={{opacity:0}} animate={{opacity:1}} exit={{opacity:0}}><div className="absolute inset-0 bg-black/70" onClick={onClose}/><motion.div initial={{scale:.9,opacity:0}} animate={{scale:1,opacity:1}} exit={{scale:.9,opacity:0}} className="glass rounded-2xl overflow-hidden w-full max-w-3xl relative"><button onClick={onClose} className="absolute top-3 right-3 bg-white/20 hover:bg-white/30 rounded-full px-3 py-1">âœ•</button>{yt?(<iframe src={embed} className="w-full h-[60vh]" allow="autoplay; encrypted-media" allowFullScreen/>):(<video src={embed} controls autoPlay className="w-full h-[60vh] bg-black"/> )}</motion.div></motion.div>)}</AnimatePresence>)}